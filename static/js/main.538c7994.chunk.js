(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t,a){e.exports=a.p+"static/media/585e65d4cb11b227491c3409.334eb6b5.png"},168:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIcSURBVGhD7Zq/S1VhGMevwkUCQQOHQqQha2loc3MuCG1yawlC2hxuQ/9AUtwtkHAIaipyERQH90Cx/oAgB5d+gIhoJeK9tz7P8SvE5dLJ9z6vgzwf+PKc87zv/X7fB45nOVaC80Cr1bqJNlDztxN47aEXXFYVkx8CPx3H+4N3TTF5IatfgQdomMuLHsJrhmq+bxSVH8I+WmgmphWTHwa5b4nUX2jHSU30A/UpJi+cf4CwTQ0yqXbX4LUsz1m18kLQggLfU9zeMPiNoUNk3FY7DwQ81BD2KFxR2w08a/L/Trmkti+Y30D2N2HcVdsVDt+D98kjtmr3WvID4xULgFeo/fXZq22270KH9f8Wv7+Gtrm2YSZk64MdDjXMvBOsLWnfZbSvdtfg9bI4gBd4Dsj4CG22i6WnJ/u4X2tfT9BX5S0XB/DCDijjLbWyQs6dGORfxCCJxCBlxCCJxCBlxCCJxCBlxCCJxCBlxCCJxCBlxCCJxCBlxCCJxCBlxCCJxCBlnMdBvqmVFXImlbeolg949qJdmT+gTP0teiPaaocYb18/rfB4TbWsumz9wPexmXeCwHXbQx1Vq2vw+omuF+Ge4G1fk+ZQ8d8O1DXKO+pb6pT2VLmvWz9F/NY+uZn3F3SrCM4FAU8sDD5wfY/a8fE4rfCqIfsY2kBXFZcPQocI+kzNAt7PFJUf8gYJfITmHfUc2dvK/wNocOZUKn8AgE8lC1m9XVYAAAAASUVORK5CYII="},169:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAK6SURBVFhH7ZZLS1VhFIaPJeRAGmQoDRMkmzQpLAqkUXMrh01z0HXQ1CKdNpJM0n8QGOEviEgjCAqipIHRSEoaVAqCl3N63u97z8Zz2Wd3bo184WWvy7PWXnK85fbVjAqFQofs9P+Jlw7m8/lJ/M2eVM3t9oiX9OKb+C0vqyr1zPR6rDmxswuPsnABb4W3RP0in8XD9qxqsRUO2cILhKO4y+v+TQx0eOkccfnSF/gqPmQ8kWruiSk/dg4PE2d/vwCuxLko8iV8Ax8xEkQ+g//g33ja5SCxWDNLXhNEvmIkXWaL0vUPccVnSu2J+mYeu5xIM5o1k8jtdJnTta8cKt7ET/EJY6kSY3bT4yW7jKXLXAAZHCJ8xnNHNZ67WJ/x+QDvkWru7ZrVjGaH1FdNCnAtmSsBSftZNIU3Yje8YBFfthddVn0DTxH2ezwodhs8oCgW9+D7+IexRKq512O8RMaaO6Ao2vr9cD2AUYpr/rxHrAUH8BV+xHcUG81eioy25IBPeE2x0cDyOEB9Hn9QXq5INngAS/Ud/ojyQZ5n8D3VI5kccFExva/Ky6We5DRd5soPuKsazysuBQUQKaanI9fwNeeH8QN8XLnR+g5g+DbhID6KX5JfCpAlTnJaItgZ9XjeUh5AFJq1ZK54wE/Cd6FRRZFMPeA93sGnlBut+wD9HfgSGlVktOpSyqeZPeu0/gMYHnEpVUYzl2qX0ewDgJfN6og3+IJbFTKWulSz2mFM+5bdShdcJ+AYXo1jYfA5PmkkkdsVB4jVjNuaX8VjhJ1GsgXczdA4XveSbax/Qo4ZqThAPTPbqvNcx+OE3UbqFwv68HTZ0gktVW7p2An1lIjFmunzmubFsgGsjyLvl3zXUyrG6iExAx5rvVh+Dr8Ob94j1dQz1n7xshH82c78kW2L+MI7Zaf7akC53F+HfPsGahBFIQAAAABJRU5ErkJggg=="},172:function(e,t,a){e.exports=a(407)},177:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},186:function(e,t,a){},201:function(e,t){},203:function(e,t){},235:function(e,t){},236:function(e,t){},303:function(e,t){},395:function(e,t,a){},400:function(e,t,a){},402:function(e,t,a){},404:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(163),c=a.n(s),o=(a(177),a(18)),i=a(19),l=a(21),m=a(20),d=a(22),h=(a(179),a(409)),u=a(406),v=a(98),p=a(11),f=(a(181),a(408));function b(e){var t=JSON.parse(localStorage.getItem("favoriteBeersIds"));if(t){var a=t.indexOf(e);-1===a?t.push(e):t.splice(a,1),localStorage.setItem("favoriteBeersIds",JSON.stringify(t))}else localStorage.setItem("favoriteBeersIds",JSON.stringify([e]))}var g=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(m.a)(t).call(this,e));var n=JSON.parse(localStorage.getItem("favoriteBeersIds"));return a.state={starred:n&&-1!==n.indexOf(a.props.beer.id)},a.navigate=a.navigate.bind(Object(p.a)(Object(p.a)(a))),a.onStarClick=a.onStarClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"navigate",value:function(){this.props.history.push("/details/".concat(this.props.beer.id))}},{key:"onStarClick",value:function(e){b(this.props.beer.id),this.setState(function(e){return{starred:!e.starred}}),this.props.onStarChange&&this.props.onStarChange(this.props.beer.id),e.stopPropagation()}},{key:"render",value:function(){return r.a.createElement("div",{className:"beer-card",onClick:this.navigate},r.a.createElement("div",{className:"beer-card__name"},this.props.beer.name),r.a.createElement("div",{className:"beer-card__abv"},this.props.beer.abv,"%"),r.a.createElement("div",{className:"beer-card__star",onClick:this.onStarClick},this.state.starred?r.a.createElement("i",{className:"material-icons"},"star"):r.a.createElement("i",{className:"material-icons"},"star_border")))}}]),t}(n.Component),_=Object(f.a)(g),E=(a(186),a(45)),A=a.n(E),N=(a(395),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bottle"},r.a.createElement("div",{className:"bottle-face"},r.a.createElement("svg",{viewBox:"0 0 220 860",xmlns:"http://www.w3.org/2000/svg",className:"logo"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M20 340h180v100H20V340zm20-160h140v160H40V180zM60 20h100v160H60V20zm140 360h20v460h-20V380zM0 380h20v460H0V380zm20 400h180v80H20v-80z",fill:"#333"}),r.a.createElement("path",{fill:"#00AFDB",d:"M20 440h180v340H20zM60 0h100v20H60z",className:"logo__label"})))),r.a.createElement("div",{className:"bottle-face"},r.a.createElement("svg",{viewBox:"0 0 220 860",xmlns:"http://www.w3.org/2000/svg",className:"logo"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M20 340h180v100H20V340zm20-160h140v160H40V180zM60 20h100v160H60V20zm140 360h20v460h-20V380zM0 380h20v460H0V380zm20 400h180v80H20v-80z",fill:"#333"}),r.a.createElement("path",{fill:"#00AFDB",d:"M20 440h180v340H20zM60 0h100v20H60z",className:"logo__label"})))),r.a.createElement("div",{className:"bottle-face"},r.a.createElement("svg",{viewBox:"0 0 220 860",xmlns:"http://www.w3.org/2000/svg",className:"logo"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M20 340h180v100H20V340zm20-160h140v160H40V180zM60 20h100v160H60V20zm140 360h20v460h-20V380zM0 380h20v460H0V380zm20 400h180v80H20v-80z",fill:"#333"}),r.a.createElement("path",{fill:"#00AFDB",d:"M20 440h180v340H20zM60 0h100v20H60z",className:"logo__label"})))),r.a.createElement("div",{className:"bottle-face"},r.a.createElement("svg",{viewBox:"0 0 220 860",xmlns:"http://www.w3.org/2000/svg",className:"logo"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M20 340h180v100H20V340zm20-160h140v160H40V180zM60 20h100v160H60V20zm140 360h20v460h-20V380zM0 380h20v460H0V380zm20 400h180v80H20v-80z",fill:"#333"}),r.a.createElement("path",{fill:"#00AFDB",d:"M20 440h180v340H20zM60 0h100v20H60z",className:"logo__label"})))))}}]),t}(n.Component)),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,0===this.props.value&&"Nessuna birra",1===this.props.value&&"Una birra",this.props.value>1&&"".concat(this.props.value," birre"))}}]),t}(n.Component),O=a(71),j=a(166),k=a.n(j),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={beers:[],query:{name:"",from:"",to:"",page:1,per_page:25},hasMore:!0,busy:!0,appendingBeers:!1},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.fetchBeers=a.fetchBeers.bind(Object(p.a)(Object(p.a)(a))),a.loadMoreBeers=a.loadMoreBeers.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchBeers(this.state.query)}},{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(function(e){var r=e.query;return r.page=1,r[a]=n,t.fetchBeers(r),{query:r,busy:!0,appendingBeers:!1}})}},{key:"fetchBeers",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];A()("https://api.punkapi.com/v2/beers?".concat(this.composeQuery(e)),function(e,n,r){e||t.setState(function(e){return{beers:a?Object(v.a)(e.beers).concat(Object(v.a)(JSON.parse(r))):JSON.parse(r),busy:!1,hasMore:JSON.parse(r).length===e.query.per_page,appendingBeers:!1}})})}},{key:"loadMoreBeers",value:function(e){var t=this;this.setState(function(a){var n=a.query;return n.page=e,t.fetchBeers(n,!0),{query:n,hasMore:!1,appendingBeers:!0}})}},{key:"composeQuery",value:function(e){var t="page=".concat(e.page,"&per_page=").concat(e.per_page,"&");return e.name&&(t=t.concat("beer_name=".concat(e.name,"&"))),e.from&&(t=t.concat("abv_gt=".concat(e.from,"&"))),e.to&&(t=t.concat("abv_lt=".concat(e.to))),t}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage__filters"},r.a.createElement("div",{className:"homepage__filters__container"},r.a.createElement("div",{className:"homepage__filters__container__name"},r.a.createElement(O.DebounceInput,{debounceTimeout:300,name:"name",placeholder:"Filtra per nome o abbinamento",onChange:this.handleChange})),r.a.createElement("div",{className:"homepage__filters__container__alcohol"},r.a.createElement("div",null,"Gradazione alcolica (da - a)"),r.a.createElement("div",null,r.a.createElement(O.DebounceInput,{debounceTimeout:300,name:"from",placeholder:"Da",onChange:this.handleChange}),r.a.createElement("span",{className:"homepage__filters__container__alcohol__space"}),r.a.createElement(O.DebounceInput,{debounceTimeout:300,name:"to",placeholder:"A",onChange:this.handleChange}))))),this.state.busy?r.a.createElement(N,null):r.a.createElement("div",{className:"homepage__table"},r.a.createElement("div",{className:"homepage__table__header"},r.a.createElement("div",{className:"homepage__table__header__total"},r.a.createElement(C,{value:this.state.beers.length}))),r.a.createElement("div",{className:"homepage__table__list"},r.a.createElement(k.a,{pageStart:1,loadMore:this.loadMoreBeers,hasMore:this.state.hasMore,threshold:500},this.state.beers.map(function(e){return r.a.createElement(_,{key:e.id,beer:e})})),this.state.appendingBeers&&r.a.createElement(N,null))))}}]),t}(n.Component),B=(a(400),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={beer:{},starred:!1,busy:!0},a.getBeer(),a.onStarClick=a.onStarClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&"random"===this.props.match.params.id&&(this.setState({beer:{},busy:!0}),this.getBeer())}},{key:"getBeer",value:function(){var e=this;A()("https://api.punkapi.com/v2/beers/".concat(this.props.match.params.id),function(t,a,n){if(!t){var r=JSON.parse(n)[0];e.setState({beer:r,starred:localStorage.getItem("favoriteBeersIds")&&localStorage.getItem("favoriteBeersIds").includes(r.id),busy:!1}),e.props.history.push("".concat(r.id))}})}},{key:"onStarClick",value:function(){b(this.state.beer.id),this.setState(function(e){return{starred:!e.starred}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"details"},this.state.busy?r.a.createElement(N,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"details__top"},r.a.createElement("div",{className:"details__top__name"},r.a.createElement("div",{className:"details__top__name__container"},r.a.createElement("div",{className:"details__top__name__title"},r.a.createElement("div",{className:"details__top__name__title__star",onClick:this.onStarClick},this.state.starred?r.a.createElement("i",{className:"material-icons"},"star"):r.a.createElement("i",{className:"material-icons"},"star_border")),this.state.beer.name),r.a.createElement("div",{className:"details__top__name__tagline"},this.state.beer.tagline))),r.a.createElement("div",{className:"details__top__description"},r.a.createElement("div",{className:"details__top__description__container"},this.state.beer.description)),r.a.createElement("div",{className:"details__top__image"},r.a.createElement("div",{className:"details__top__image__container"},r.a.createElement("div",{className:"details__top__image__container__circle"},r.a.createElement("img",{alt:"",src:this.state.beer.image_url}))))),r.a.createElement("div",{className:"details__center"},r.a.createElement("div",{className:"details__center__container"},this.state.beer.abv&&r.a.createElement("div",null,"ABV: ",this.state.beer.abv,"%"),this.state.beer.srm&&r.a.createElement("div",null,"SRM: ",this.state.beer.srm),this.state.beer.ebc&&r.a.createElement("div",null,"EBC: ",this.state.beer.ebc),this.state.beer.ph&&r.a.createElement("div",null,"PH: ",this.state.beer.ph))),r.a.createElement("div",{className:"details__bottom"},r.a.createElement("div",{className:"details__bottom__header"},"Abbinamenti"),r.a.createElement("div",{className:"details__bottom__foods"},this.state.beer.food_pairing&&this.state.beer.food_pairing.map(function(e){return r.a.createElement("div",{key:e,className:"details__bottom__foods__food"},'"',e,'"')})))))}}]),t}(n.Component)),S=(a(402),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={favoriteBeers:[],busy:!0},a.onStarChange=a.onStarChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;A()("https://api.punkapi.com/v2/beers?ids=".concat(JSON.parse(localStorage.getItem("favoriteBeersIds")).join("|")),function(t,a,n){t||e.setState({favoriteBeers:JSON.parse(n),busy:!1})})}},{key:"onStarChange",value:function(e){this.setState(function(t){return{favoriteBeers:t.favoriteBeers.filter(function(t){return t.id!==e})}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"favorites"},this.state.busy?r.a.createElement(N,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"favorites__total"},r.a.createElement(C,{value:this.state.favoriteBeers.length})),r.a.createElement("div",{className:"favorites__list"},this.state.favoriteBeers.map(function(t){return r.a.createElement(_,{key:t.id,onStarChange:e.onStarChange,beer:t})}))))}}]),t}(n.Component)),y=a(410),x=(a(404),a(167)),z=a.n(x),H=a(168),I=a.n(H),M=a(169),V=a.n(M),J=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__links header__links--desktop"},"/"===this.props.location.pathname?r.a.createElement("div",{className:"header__links__logo"},"Brewdog"):r.a.createElement(y.a,{exact:!0,to:"/"},"Tutte le birre"),r.a.createElement(y.a,{exact:!0,to:"/details/random"},"Una birra random"),r.a.createElement(y.a,{to:"/favorites"},"Preferiti")),r.a.createElement("div",{className:"header__links header__links--mobile"},"/"===this.props.location.pathname?r.a.createElement("div",{className:"header__links__logo"},r.a.createElement("img",{alt:"",src:z.a})):r.a.createElement(y.a,{exact:!0,to:"/"},r.a.createElement("img",{alt:"",src:I.a})),r.a.createElement(y.a,{exact:!0,to:"/details/random"},r.a.createElement("img",{alt:"",src:V.a})),r.a.createElement(y.a,{to:"/favorites"},r.a.createElement("i",{className:"material-icons"},"star"))))}}]),t}(n.Component),D=Object(f.a)(J),Q=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(l.a)(this,Object(m.a)(t).call(this,e)),localStorage.getItem("favoriteBeersIds")||localStorage.setItem("favoriteBeersIds","[]"),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(D,null),r.a.createElement(u.a,{exact:!0,path:"/",component:w}),r.a.createElement(u.a,{path:"/details/:id",component:B}),r.a.createElement(u.a,{path:"/favorites",component:S})))}}]),t}(n.Component),U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Q,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/brewdog-webapp",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/brewdog-webapp","/service-worker.js");U?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):X(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):X(t,e)})}}(),window.addEventListener("load",function(e){caches.open("brewdog-cache").then(function(e){return e.addAll(["https://fonts.googleapis.com/icon?family=Material+Icons","https://fonts.gstatic.com/s/materialicons/v41/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2","https://fonts.googleapis.com/css?family=Roboto+Slab:400,700"])})})}},[[172,2,1]]]);
//# sourceMappingURL=main.538c7994.chunk.js.map